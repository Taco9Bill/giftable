{"version":3,"sources":["modules/entities.js","components/recipients.js","components/gifts.js","App.js","index.js"],"names":["Category","GiftItem","id","name","sellPrice","variants","style","category","this","_id","_name","_sellPrice","_variants","_style","_category","first","keys","next","_defaultVariantId","value","defaultVariant","imgUrl","get","GiftItemVariant","colors","_colors","_imgUrl","Catalog","items","_items","found","item","toLowerCase","searchName","indexOf","filter","split","reduce","tested","part","villager","limitCats","limit","undefined","results","checkGiftStyle","includes","length","push","Villager","styles","iconUrl","_styles","_iconUrl","variantId","result","liked","checkGiftColors","stylePrefs","reason","color","c","colorPrefs","Roster","members","_members","isMatch","console","log","startsWith","ids","getImageUrl","rawVariant","storageImage","makeGiftItem","json","vMap","Map","rawFirstVar","v","uniqueEntryId","variation","map","set","sourceSheet","RecipientLookup","className","type","props","placeholder","onChange","React","Component","Recipient","handleClick","bind","e","currentTarget","toggleCallback","recipient","selected","onClick","src","alt","RecipientList","recipientName","selectedList","key","findByNameLike","GiftLookup","GiftSearchResult","itemSelectCallback","recipients","showVariants","judgements","variantIds","Array","from","vId","checkGift","who","nullCallback","variant","j","GiftSearchList","giftName","exact","inclCats","Tops","Bottoms","DressUp","Headwear","Socks","Shoes","Accessories","Bags","roster","rawVillagers","rawVillager","iconImage","makeRoster","catalog","rawItems","rawItem","sort","a","b","makeCatalog","Giftable","JSON","parse","localStorage","getItem","state","recipientList","findByIds","onChangeGiftName","onChangeRecipientName","toggleRecipientCallback","onClickSearchResult","setState","setRecipientName","setGiftName","list","slice","pos","splice","setItem","stringify","r","setRecipientList","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2801c5be.chunk.js","sourcesContent":["let Category = {};\n(function (Category) {\n    Category[\"Accessories\"] = \"Accessories\";\n    Category[\"Art\"] = \"Art\";\n    Category[\"Bags\"] = \"Bags\";\n    Category[\"Bottoms\"] = \"Bottoms\";\n    Category[\"DressUp\"] = \"Dress-Up\";\n    Category[\"Fencing\"] = \"Fencing\";\n    Category[\"Floors\"] = \"Floors\";\n    Category[\"Fossils\"] = \"Fossils\";\n    Category[\"Headwear\"] = \"Headwear\";\n    Category[\"Housewares\"] = \"Housewares\";\n    Category[\"Miscellaneous\"] = \"Miscellaneous\";\n    Category[\"Music\"] = \"Music\";\n    Category[\"Other\"] = \"Other\";\n    Category[\"Photos\"] = \"Photos\";\n    Category[\"Posters\"] = \"Posters\";\n    Category[\"Rugs\"] = \"Rugs\";\n    Category[\"Shoes\"] = \"Shoes\";\n    Category[\"Socks\"] = \"Socks\";\n    Category[\"Tools\"] = \"Tools\";\n    Category[\"Tops\"] = \"Tops\";\n    Category[\"Umbrellas\"] = \"Umbrellas\";\n    Category[\"WallMounted\"] = \"Wall-mounted\";\n    Category[\"Wallpapers\"] = \"Wallpapers\";\n})(Category);\n\nclass GiftItem {\n    constructor(id, name, sellPrice, variants, style, category){\n        this._id = id;\n        this._name = name;\n        this._sellPrice = sellPrice;\n        this._variants = variants;\n        this._style = style;\n        this._category = category;\n        const first = variants.keys().next();\n        this._defaultVariantId = first.value;\n    }\n    get id() { return this._id; }\n    get name() { return this._name; }\n    get sell() { return this._sellPrice; }\n    get variants() { return this._variants; }\n    get style() { return this._style; }\n    get category() { return this._category; }\n    get imgUrl() {\n        return this.defaultVariant.imgUrl;\n    }\n    get defaultVariant(){\n        return this._variants.get(this._defaultVariantId);\n    }\n}\n\nclass GiftItemVariant {\n    constructor(id, name, colors, imgUrl) {\n        this._id = id;\n        this._name = name;\n        this._colors = colors;\n        this._imgUrl = imgUrl;\n    }\n    get id() { return this._id; }\n    get name() { return this._name; }\n    get colors() { return this._colors; }\n    get imgUrl() { return this._imgUrl; }\n}\n\nclass Catalog {\n    constructor(items){\n        this._items = items;\n    }\n    get length(){\n        return this._items.length;\n    }\n    findByName(name) {\n        let found = null;\n        for(const item of this._items){\n            const isMatch = item.name.toLowerCase() == name.toLowerCase();\n            if (isMatch){\n                found = item;\n                break;\n            }\n        }\n        return found;\n    }\n    findByNameLike(name) {\n        const searchName = name.toLowerCase();\n        let found = null;\n        /* Match any substring */\n        if(searchName.indexOf(' ') !== -1 || searchName.indexOf('-') !== -1){\n            found = this._items.filter(item => {\n                return item.name.toLowerCase().indexOf(searchName) !== -1;\n            });\n            return found;\n        }\n        /* Match substring in word parts only */\n        found = this._items.filter(item => {\n            let parts = item.name.toLowerCase().split(/[\\s-]+/);\n            const isMatch = parts.reduce( (tested, part) => {\n                return tested || part.indexOf(searchName) === 0;\n            }, false);\n            return isMatch;\n        });\n        return found;\n    }\n    findByStyle(villager, limitCats, limit){\n        if(limit == undefined){\n            limit = 200;\n        }\n        let results = {};\n        for(const item of this._items){\n            if(villager.checkGiftStyle(item)){\n                if(!limitCats || limitCats.includes(item.category)){\n                    results[item.category] = results[item.category] || [];\n                    if(results[item.category].length < limit){\n                        results[item.category].push(item);\n                    }\n                }\n            }\n        }\n        return results;\n    }\n}\n\nclass Villager{\n    constructor(id, name, colors, styles, iconUrl){\n        this._id = id;\n        this._name = name;\n        this._colors = colors;\n        this._styles = styles;\n        this._iconUrl = iconUrl\n    }\n    get id() { return this._id; }\n    get name() { return this._name; }\n    get colorPrefs() { return this._colors; }\n    get stylePrefs() { return this._styles; }\n    get iconUrl() { return this._iconUrl; }\n\n    checkGift(item, variantId){\n        const result = this.checkGiftStyle(item);\n        return (result.liked && result) || this.checkGiftColors(item, variantId);\n\n    }\n    checkGiftStyle(item){\n        if(this.stylePrefs.includes(item.style)){\n            return { liked: true, reason: item.style };\n        }\n        return { liked: false };\n    }\n    checkGiftColors(item, variantId){\n        const likesColor = (color) => this.colorPrefs.includes(color);\n        for(const c of item.variants.get(variantId).colors){\n            if(likesColor(c)){\n                return { liked: true, reason: c };\n            }\n        }\n        return { liked: false };\n    }\n}\n\nclass Roster {\n    constructor(members){\n        this._members = members;\n    }\n    get length(){\n        return this._members.length;\n    }\n    findByName(name){\n        let found = null;\n        for(const villager of this._members){\n            const isMatch = villager.name.toLowerCase() == name.toLowerCase();\n            if (isMatch){\n                console.log(villager.name + \"==\" + name + \" : \" + isMatch);\n                found = villager;\n                break;\n            }\n        }\n        return found;\n    }\n    findByNameLike(name){\n        return this._members.filter( villager => {\n            return villager.name.toLowerCase().startsWith(name.toLowerCase());\n        });\n    }\n    findByStyle(item, limit){\n        if(limit == undefined){\n            limit = 200;\n        }\n        let results = [];\n        for(const villager of this._members){\n            if(villager.checkGiftStyle(item)){\n                results.push(villager);\n            }\n            if(results.length >= limit){\n                break;\n            }\n        }\n        return results;\n    }\n    findByIds(ids){\n        return this._members.filter( villager => ids.includes(villager.id) );\n    }\n}\n\nconst getImageUrl = (rawVariant) => {\n    /* TODO: currently limited to clothes and bags */\n    return rawVariant.storageImage;\n};\n\nfunction makeGiftItem(json) {\n    let vMap = new Map();\n    const rawFirstVar = json.variants[0];\n    for(const rawVariant of json.variants){\n        const v = new GiftItemVariant(\n            rawVariant.uniqueEntryId,\n            rawVariant.variation,\n            rawVariant.colors.map(c => c.toLowerCase()),\n            getImageUrl(rawVariant)\n        );\n        vMap.set(rawVariant.uniqueEntryId, v);\n    }\n    return new GiftItem(\n        '_' + rawFirstVar.uniqueEntryId,\n        json.name.toLowerCase(),\n        rawFirstVar.sellPrice,\n        vMap,\n        (json.style && json.style.toLowerCase()) || null,\n        json.sourceSheet\n    );\n}\n\nfunction makeVillager(json){\n    return new Villager(\n        json.uniqueEntryId,\n        json.name,\n        json.colors.map( (color) => color.toLowerCase() ),\n        json.styles.map( (style) => style.toLowerCase() ),\n        json.iconImage\n    );\n}\n\nfunction makeCatalog(rawItems, inclCats){\n    let items = [];\n    for(const rawItem of rawItems){\n        if(inclCats.includes(rawItem['sourceSheet'])) {\n            items.push(makeGiftItem(rawItem));\n        }\n    }\n    items.sort( (a, b) => { return a.name > b.name } )\n    return new Catalog(items);\n}\nfunction makeRoster(rawVillagers){\n    let members = [];\n    for(const rawVillager of rawVillagers){\n        members.push(makeVillager(rawVillager));\n    }\n    return new Roster(members);\n}\n\nexport {GiftItem, Catalog, Villager, Roster, Category, makeGiftItem, makeCatalog, makeRoster};","import React from 'react';\nimport './recipients.css'\n\nclass RecipientLookup extends React.Component {\n    render() {\n        console.log(\"Rendering lookup component...\");\n        return (\n            <div className=\"mori-search-input\">\n                <input\n                    type=\"text\"\n                    value={this.props.value}\n                    placeholder={\"Who is this gift for?\"}\n                    onChange={this.props.onChange}\n                />\n            </div>\n        );\n    }\n}\n\nclass Recipient extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleClick = this.handleClick.bind(this);\n    }\n    handleClick(e) {\n        if(e.currentTarget){\n            this.props.toggleCallback(this.props.value);\n        }\n    }\n    render() {\n        const recipient = this.props.value;\n        return (\n            <div className={`vlgr${this.props.selected ? ' selected': ''}`} onClick={this.handleClick}>\n              <img src={recipient.iconUrl} alt={recipient.name}/>\n              <span className=\"name\">{recipient.name}</span>\n            </div>\n        );\n    }\n}\n\nclass RecipientList extends React.Component {\n    render() {\n        const name = this.props.recipientName;\n        const selectedList = this.props.selected;\n        if(!name) {\n            return (\n                <div className=\"vResults\">\n                { \n                    selectedList.map( v => {\n                        return (\n                            <div className=\"vEntry\" key={v.id}>\n                                <Recipient\n                                    value={v}\n                                    selected={true}\n                                    toggleCallback={this.props.toggleCallback} />\n                            </div>\n                        );\n                    })\n                }\n                </div>\n            );\n        }\n        const found = this.props.members.findByNameLike(this.props.recipientName);\n        if(!found){\n            return (<span>No villager with that name found.</span>);\n        }\n\n        return (\n            <div className=\"vResults\">\n            {\n                found.filter( v => {\n                    return !selectedList.includes(v);\n                }).map( v => {\n                    return (\n                        <div className=\"vEntry\" key={v.id}>\n                            <Recipient\n                                value={v}\n                                selected={false}\n                                key={v.id}\n                                toggleCallback={this.props.toggleCallback} />\n                        </div>\n                    );\n                })\n            }{ \n                selectedList.map( v => {\n                    return (\n                        <div className=\"vEntry\" key={v.id}>\n                            <Recipient\n                                value={v}\n                                selected={true}\n                                key={v.id}\n                                toggleCallback={this.props.toggleCallback} />\n                        </div>\n                    );\n                })\n            }\n            </div>\n        );\n    }\n}\n\nexport { Recipient, RecipientList, RecipientLookup };","import React from 'react';\nimport {Recipient} from 'components/recipients.js'\nimport './gifts.css'\n\nclass GiftLookup extends React.Component {\n    render() {\n        return (\n            <div className=\"mori-search-input\">\n                <input\n                    type=\"text\"\n                    value={this.props.value}\n                    placeholder={\"Gift to check?\"}\n                    onChange={this.props.onChange}\n                />\n            </div>\n        );\n    }\n}\n\nclass GiftSearchResult extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleClick = this.handleClick.bind(this);\n    }\n    handleClick(e) {\n        if(e.currentTarget){\n            this.props.itemSelectCallback(this.props.value);\n        }\n    }\n    render() {\n        const item = this.props.value;\n        const recipients = this.props.recipients;\n        if(this.props.showVariants === false){\n            return (\n                <div className=\"gift\" onClick={this.handleClick}>\n                    <span className=\"name\">{item.name}</span>\n                    <div className=\"alts\">\n                    <div className=\"alt-color\" key={item.defaultVariant.id}>\n                                  <img src={item.defaultVariant.imgUrl} alt={item.name} />\n                              </div>\n                    </div>\n                </div>\n            );\n        }\n        else {\n            let judgements = new Map();\n            const variantIds = Array.from(item.variants.keys());\n            for(const vId of variantIds){\n                judgements.set(vId, recipients.map( recipient => {\n                    const {liked, reason} = recipient.checkGift(item, vId);\n                    return {\n                        who: recipient,\n                        liked: liked,\n                        reason: reason\n                    };\n                }).filter( result => result.liked ));\n            }\n            const nullCallback = () => false;\n            return (\n                <div className=\"gift gift-group\" onClick={this.handleClick}>\n                    <span className=\"name\">{item.name} <span className=\"quality\">({item.style})</span></span>\n                    <div className=\"alts\">\n                    {\n                        variantIds.map( (vId) => {\n                            const variant = item.variants.get(vId);\n                            const name = variant.name || item.name;\n                            return(\n                                <div className=\"alt-color\" key={variant.id}>\n                                    <div className=\"alt-entry\">\n                                        <img src={variant.imgUrl} alt={name} />\n                                    {\n                                        variant.name &&\n                                        <span className=\"name\">{variant.name}</span>\n                                    }\n                                    </div>\n                                    <div className=\"judgements\">\n                                    {\n                                        judgements.get(vId).length > 0\n                                        ? judgements.get(vId).map( j => {\n                                            return (\n                                                j.liked && \n                                                <Recipient\n                                                    value={j.who}\n                                                    selected={false}\n                                                    key={'j_'+j.who.id}\n                                                    toggleCallback={nullCallback} />\n                                            )\n                                        })\n                                        : <div>No one liked this.</div>\n                                    }\n                                    </div>\n                                </div>\n                            )\n                        })\n                    }\n                    </div>\n                </div>\n            );\n        }\n    }\n}\n\nclass GiftSearchList extends React.Component {\n    render() {\n        const name = this.props.giftName;\n        if(!name) {\n            return '';//(<div className=\"gResults\"></div>);\n        }\n        const items = this.props.items;\n        let found = items.findByNameLike(this.props.giftName);\n        const exact = found.filter(item => {\n            return item.name.toLowerCase() == name.toLowerCase();\n        });\n        if(exact.length > 0)\n            found = exact;\n        const showVariants = (found.length == 1);\n\n        if(found.length === 0){\n            return (\n                <div className=\"gResults\">\n                    <span className=\"count\">No clothing or bag matches found.</span>\n                </div>\n            );\n        }\n        return (\n            <div className=\"gResults\">\n            {\n                found.map( item => {\n                    return (\n                        <div className=\"mori-gift\" key={item.id}>\n                            <GiftSearchResult\n                                value={item}\n                                showVariants={showVariants}\n                                itemSelectCallback={this.props.itemSelectCallback}\n                                recipients={this.props.recipients}\n                            />\n                        </div>\n                    );\n                })\n            }\n            </div>\n        );\n    }\n}\n\nexport {GiftLookup, GiftSearchList};","import React from 'react';\nimport rawVillagers from './ds/villagers.json'\nimport rawItems from './ds/items.json'\nimport { Category, makeCatalog, makeRoster } from 'modules/entities.js'\nimport { RecipientList, RecipientLookup } from 'components/recipients.js'\nimport { GiftLookup, GiftSearchList } from 'components/gifts.js'\nimport './normalize.css'\nimport './App.css';\n\n\nconst inclCats = [\n    Category.Tops, Category.Bottoms, Category.DressUp, Category.Headwear,\n    Category.Socks, Category.Shoes, Category.Accessories, Category.Bags\n];\nconst roster = makeRoster(rawVillagers);\nconst catalog = makeCatalog(rawItems, inclCats);\n\nclass Giftable extends React.Component {\n    constructor(props) {\n        super(props);\n        const selected = JSON.parse(localStorage.getItem('recipients') || null);\n        this.state = {\n          giftName: '',\n          recipientName: '',\n          recipientList: (selected && roster.findByIds(selected)) || []\n        };\n        this.onChangeGiftName = this.onChangeGiftName.bind(this);\n        this.onChangeRecipientName = this.onChangeRecipientName.bind(this);\n        this.toggleRecipientCallback = this.toggleRecipientCallback.bind(this);\n        this.onClickSearchResult = this.onClickSearchResult.bind(this);\n    }\n    setGiftName(value){\n        this.setState({giftName: value});\n    }\n    setRecipientName(value){\n        this.setState({recipientName: value});\n    }\n    setRecipientList(value){\n        this.setState({recipientList: value});\n    }\n    onChangeRecipientName(e) {\n        if (e.currentTarget) {\n            this.setRecipientName(e.currentTarget.value);\n        }\n    }\n    onChangeGiftName(e) {\n        if (e.currentTarget) {\n            this.setGiftName(e.currentTarget.value);\n        }\n    }\n    onClickSearchResult(item){\n        this.setGiftName(item.name);\n    }\n    toggleRecipientCallback(recipient){\n        let list = this.state.recipientList.slice();\n        const pos = list.indexOf(recipient);\n        if(pos !== -1){\n            list.splice(pos,1);\n            localStorage.setItem('recipients', JSON.stringify(list.map(r => r.id)));\n            this.setRecipientList(list);\n        }\n        else{\n            list.push(recipient);\n            list.sort((a,b) => a.name > b.name);\n            localStorage.setItem('recipients', JSON.stringify(list.map(r => r.id)));\n            this.setState({\n                recipientList: list,\n                recipientName: ''\n            });\n        }\n    }\n    render() {\n        return (\n          <div className=\"mori\">\n            <div className=\"mori-search\">\n                <RecipientLookup \n                    value={this.state.recipientName}\n                    onChange={this.onChangeRecipientName}\n                />\n            </div>\n            <RecipientList\n                members={roster}\n                selected={this.state.recipientList}\n                recipientName={this.state.recipientName}\n                toggleCallback={this.toggleRecipientCallback}\n            />\n            <div className=\"mori-search\">\n                <GiftLookup\n                    value={this.state.giftName}\n                    onChange={this.onChangeGiftName}\n                />\n            </div>\n            <GiftSearchList\n                items={catalog}\n                giftName={this.state.giftName}\n                itemSelectCallback={this.onClickSearchResult}\n                recipients={this.state.recipientList}\n            />\n\n          </div>\n        );\n    }\n}\n\nexport default Giftable;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Giftable from './App';\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Giftable />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}