{"version":3,"sources":["modules/entities.js","components/recipients.js","components/gifts.js","App.js","index.js"],"names":["Category","Style","Color","GiftItem","id","name","sellPrice","variants","style","category","imgUrl","this","_id","_name","_sellPrice","_variants","_style","_category","first","keys","next","_defaultVariantId","value","defaultVariant","get","GiftItemVariant","colors","_colors","_imgUrl","Catalog","items","_items","found","item","toLowerCase","searchName","indexOf","filter","split","reduce","tested","part","villager","limitCats","limit","undefined","results","checkGiftStyle","includes","length","push","Villager","styles","iconUrl","_styles","_iconUrl","variantId","result","liked","checkGiftColors","stylePrefs","reason","color","c","colorPrefs","Roster","members","_members","isMatch","console","log","startsWith","getImageUrl","rawVariant","storageImage","makeGiftItem","json","vMap","Map","rawFirstVar","v","uniqueEntryId","variation","map","set","sourceSheet","RecipientLookup","className","type","props","placeholder","onChange","React","Component","Recipient","handleClick","bind","e","currentTarget","toggleCallback","recipient","selected","onClick","src","alt","RecipientList","recipientName","selectedList","key","findByNameLike","GiftLookup","GiftSearchResult","itemSelectCallback","recipients","showVariants","judgements","variantIds","Array","from","vId","checkGift","who","nullCallback","variant","j","GiftSearchList","giftName","inclCats","Tops","Bottoms","DressUp","Headwear","Socks","Shoes","Accessories","Bags","roster","rawVillagers","rawVillager","iconImage","makeRoster","catalog","rawItems","rawItem","sort","a","b","makeCatalog","Giftable","state","recipientList","onChangeGiftName","onChangeRecipientName","toggleRecipientCallback","onClickSearchResult","setState","setRecipientName","setGiftName","list","slice","pos","splice","setRecipientList","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uomxMAAIA,EAAW,IACf,SAAWA,GACPA,EAAQ,YAAkB,cAC1BA,EAAQ,IAAU,MAClBA,EAAQ,KAAW,OACnBA,EAAQ,QAAc,UACtBA,EAAQ,QAAc,WACtBA,EAAQ,QAAc,UACtBA,EAAQ,OAAa,SACrBA,EAAQ,QAAc,UACtBA,EAAQ,SAAe,WACvBA,EAAQ,WAAiB,aACzBA,EAAQ,cAAoB,gBAC5BA,EAAQ,MAAY,QACpBA,EAAQ,MAAY,QACpBA,EAAQ,OAAa,SACrBA,EAAQ,QAAc,UACtBA,EAAQ,KAAW,OACnBA,EAAQ,MAAY,QACpBA,EAAQ,MAAY,QACpBA,EAAQ,MAAY,QACpBA,EAAQ,KAAW,OACnBA,EAAQ,UAAgB,YACxBA,EAAQ,YAAkB,eAC1BA,EAAQ,WAAiB,aAvB7B,CAwBGA,IAGH,SAAWC,GACPA,EAAK,OAAa,SAClBA,EAAK,KAAW,OAChBA,EAAK,KAAW,OAChBA,EAAK,QAAc,UACnBA,EAAK,SAAe,WACpBA,EAAK,OAAa,SANtB,CADY,KAWZ,SAAWC,GACPA,EAAK,MAAY,QACjBA,EAAK,MAAY,QACjBA,EAAK,KAAW,OAChBA,EAAK,MAAY,QACjBA,EAAK,SAAe,WACpBA,EAAK,KAAW,OAChBA,EAAK,MAAY,QACjBA,EAAK,UAAgB,aACrBA,EAAK,OAAa,SAClBA,EAAK,KAAW,OAChBA,EAAK,OAAa,SAClBA,EAAK,IAAU,MACfA,EAAK,MAAY,QACjBA,EAAK,OAAa,SAdtB,CADY,I,IAkBNC,E,WACF,WAAYC,EAAIC,EAAMC,EAAWC,EAAUC,EAAOC,EAAUC,GAAQ,oBAChEC,KAAKC,IAAMR,EACXO,KAAKE,MAAQR,EACbM,KAAKG,WAAaR,EAClBK,KAAKI,UAAYR,EACjBI,KAAKK,OAASR,EACdG,KAAKM,UAAYR,EACjB,IAAMS,EAAQX,EAASY,OAAOC,OAC9BT,KAAKU,kBAAoBH,EAAMI,M,+CAExB,OAAOX,KAAKC,M,2BACV,OAAOD,KAAKE,Q,2BACZ,OAAOF,KAAKG,a,+BACR,OAAOH,KAAKI,Y,4BACf,OAAOJ,KAAKK,S,+BACT,OAAOL,KAAKM,Y,6BAEzB,OAAON,KAAKY,eAAeb,S,qCAG3B,OAAOC,KAAKI,UAAUS,IAAIb,KAAKU,uB,KAIjCI,E,WACF,WAAYrB,EAAIC,EAAMqB,EAAQhB,GAAS,oBACnCC,KAAKC,IAAMR,EACXO,KAAKE,MAAQR,EACbM,KAAKgB,QAAUD,EACff,KAAKiB,QAAUlB,E,+CAER,OAAOC,KAAKC,M,2BACV,OAAOD,KAAKE,Q,6BACV,OAAOF,KAAKgB,U,6BACZ,OAAOhB,KAAKiB,Y,KAGzBC,E,WACF,WAAYC,GAAO,oBACfnB,KAAKoB,OAASD,E,uDAKPzB,GACP,IADa,EACT2B,EAAQ,KADC,cAEKrB,KAAKoB,QAFV,IAEb,IAAI,EAAJ,qBAA8B,CAAC,IAArBE,EAAoB,QAE1B,GADgBA,EAAK5B,KAAK6B,eAAiB7B,EAAK6B,cACpC,CACRF,EAAQC,EACR,QANK,8BAUb,OAAOD,I,qCAEI3B,GACX,IAAM8B,EAAa9B,EAAK6B,cAGxB,OAAgC,IAA7BC,EAAWC,QAAQ,OAA4C,IAA7BD,EAAWC,QAAQ,KAC5CzB,KAAKoB,OAAOM,QAAO,SAAAJ,GACvB,OAAwD,IAAjDA,EAAK5B,KAAK6B,cAAcE,QAAQD,MAKvCxB,KAAKoB,OAAOM,QAAO,SAAAJ,GAKvB,OAJYA,EAAK5B,KAAK6B,cAAcI,MAAM,UACpBC,QAAQ,SAACC,EAAQC,GACnC,OAAOD,GAAuC,IAA7BC,EAAKL,QAAQD,MAC/B,Q,kCAKCO,EAAUC,EAAWC,QACjBC,GAATD,IACCA,EAAQ,KAEZ,IAJmC,EAI/BE,EAAU,GAJqB,cAKjBnC,KAAKoB,QALY,IAKnC,IAAI,EAAJ,qBAA8B,CAAC,IAArBE,EAAoB,QACvBS,EAASK,eAAed,KACnBU,IAAaA,EAAUK,SAASf,EAAKxB,YACrCqC,EAAQb,EAAKxB,UAAYqC,EAAQb,EAAKxB,WAAa,GAChDqC,EAAQb,EAAKxB,UAAUwC,OAASL,GAC/BE,EAAQb,EAAKxB,UAAUyC,KAAKjB,MAVT,8BAenC,OAAOa,I,6BAjDP,OAAOnC,KAAKoB,OAAOkB,W,KAqDrBE,E,WACF,WAAY/C,EAAIC,EAAMqB,EAAQ0B,EAAQC,GAAU,oBAC5C1C,KAAKC,IAAMR,EACXO,KAAKE,MAAQR,EACbM,KAAKgB,QAAUD,EACff,KAAK2C,QAAUF,EACfzC,KAAK4C,SAAWF,E,sDAQVpB,EAAMuB,GACZ,IAAMC,EAAS9C,KAAKoC,eAAed,GACnC,OAAQwB,EAAOC,OAASD,GAAW9C,KAAKgD,gBAAgB1B,EAAMuB,K,qCAGnDvB,GACX,OAAGtB,KAAKiD,WAAWZ,SAASf,EAAKzB,OACtB,CAAEkD,OAAO,EAAMG,OAAQ5B,EAAKzB,OAEhC,CAAEkD,OAAO,K,sCAEJzB,EAAMuB,GAAW,IAAD,EACRM,EADQ,qBAEb7B,EAAK1B,SAASiB,IAAIgC,GAAW9B,QAFhB,IAE5B,IAAI,EAAJ,qBAAmD,CAAC,IAA1CqC,EAAyC,QAC/C,GAFgBD,EAEFC,EAFY,EAAKC,WAAWhB,SAASc,GAG/C,MAAO,CAAEJ,OAAO,EAAMG,OAAQE,IAJV,8BAO5B,MAAO,CAAEL,OAAO,K,yBAxBT,OAAO/C,KAAKC,M,2BACV,OAAOD,KAAKE,Q,iCACN,OAAOF,KAAKgB,U,iCACZ,OAAOhB,KAAK2C,U,8BACf,OAAO3C,KAAK4C,a,KAwB1BU,E,WACF,WAAYC,GAAS,oBACjBvD,KAAKwD,SAAWD,E,uDAKT7D,GACP,IADY,EACR2B,EAAQ,KADA,cAEUrB,KAAKwD,UAFf,IAEZ,IAAI,EAAJ,qBAAoC,CAAC,IAA3BzB,EAA0B,QAC1B0B,EAAU1B,EAASrC,KAAK6B,eAAiB7B,EAAK6B,cACpD,GAAIkC,EAAQ,CACRC,QAAQC,IAAI5B,EAASrC,KAAO,KAAOA,EAAO,MAAQ+D,GAClDpC,EAAQU,EACR,QAPI,8BAUZ,OAAOV,I,qCAEI3B,GACX,OAAOM,KAAKwD,SAAS9B,QAAQ,SAAAK,GACzB,OAAOA,EAASrC,KAAK6B,cAAcqC,WAAWlE,EAAK6B,oB,kCAG/CD,EAAMW,QACFC,GAATD,IACCA,EAAQ,KAEZ,IAJoB,EAIhBE,EAAU,GAJM,cAKEnC,KAAKwD,UALP,IAKpB,IAAI,EAAJ,qBAAoC,CAAC,IAA3BzB,EAA0B,QAIhC,GAHGA,EAASK,eAAed,IACvBa,EAAQI,KAAKR,GAEdI,EAAQG,QAAUL,EACjB,OAVY,8BAapB,OAAOE,I,6BAhCP,OAAOnC,KAAKwD,SAASlB,W,KAqCvBuB,EAAc,SAACC,GAEjB,OAAOA,EAAWC,cAGhBC,EAAe,SAACC,GAClB,IAD2B,EACvBC,EAAO,IAAIC,IACTC,EAAcH,EAAKrE,SAAS,GAFP,cAGHqE,EAAKrE,UAHF,IAG3B,IAAI,EAAJ,qBAAsC,CAAC,IAA7BkE,EAA4B,QAC5BO,EAAI,IAAIvD,EACVgD,EAAWQ,cACXR,EAAWS,UACXT,EAAW/C,OAAOyD,KAAI,SAAApB,GAAC,OAAIA,EAAE7B,iBAC7BsC,EAAYC,IAEhBI,EAAKO,IAAIX,EAAWQ,cAAeD,IAVZ,8BAY3B,OAAO,IAAI7E,EACP,IAAM4E,EAAYE,cAClBL,EAAKvE,KAAK6B,cACV6C,EAAYzE,UACZuE,EACCD,EAAKpE,OAASoE,EAAKpE,MAAM0B,eAAkB,KAC5C0C,EAAKS,c,UCzPPC,E,uKAGE,OADAjB,QAAQC,IAAI,iCAER,yBAAKiB,UAAU,qBACX,2BACIC,KAAK,OACLlE,MAAOX,KAAK8E,MAAMnE,MAClBoE,YAAa,wBACbC,SAAUhF,KAAK8E,MAAME,gB,GATXC,IAAMC,WAgB9BC,E,kDACF,WAAYL,GAAQ,IAAD,8BACf,cAAMA,IACDM,YAAc,EAAKA,YAAYC,KAAjB,gBAFJ,E,wDAIPC,GACLA,EAAEC,eACDvF,KAAK8E,MAAMU,eAAexF,KAAK8E,MAAMnE,S,+BAIzC,IAAM8E,EAAYzF,KAAK8E,MAAMnE,MAC7B,OACI,yBAAKiE,UAAS,cAAS5E,KAAK8E,MAAMY,SAAW,YAAa,IAAMC,QAAS3F,KAAKoF,aAC5E,yBAAKQ,IAAKH,EAAU/C,QAASmD,IAAKJ,EAAU/F,OAC5C,0BAAMkF,UAAU,QAAQa,EAAU/F,W,GAfxBuF,IAAMC,WAqBxBY,E,uKACQ,IAAD,OACLpC,QAAQC,IAAI,wBACZ,IAAMjE,EAAOM,KAAK8E,MAAMiB,cAClBC,EAAehG,KAAK8E,MAAMY,SAChC,IAAIhG,EACA,OACI,yBAAKkF,UAAU,YAEXoB,EAAaxB,KAAK,SAAAH,GACd,OACI,kBAAC,EAAD,CACI1D,MAAO0D,EACPqB,UAAU,EACVO,IAAK5B,EAAE5E,GACP+F,eAAgB,EAAKV,MAAMU,qBAOnD,IAAMnE,EAAQrB,KAAK8E,MAAMvB,QAAQ2C,eAAelG,KAAK8E,MAAMiB,eAC3D,OAAI1E,EAKA,yBAAKuD,UAAU,YAEXoB,EAAaxB,KAAK,SAAAH,GACd,OACI,kBAAC,EAAD,CACI1D,MAAO0D,EACPqB,UAAU,EACVO,IAAK5B,EAAE5E,GACP+F,eAAgB,EAAKV,MAAMU,oBAIvCnE,EAAMK,QAAQ,SAAA2C,GACV,OAAQ2B,EAAa3D,SAASgC,MAC/BG,KAAK,SAAAH,GACJ,OACI,kBAAC,EAAD,CACI1D,MAAO0D,EACPqB,UAAU,EACVO,IAAK5B,EAAE5E,GACP+F,eAAgB,EAAKV,MAAMU,qBAxBnC,uE,GAxBQP,IAAMC,WCpC5BiB,G,6KAEE,OACI,yBAAKvB,UAAU,qBACX,2BACIC,KAAK,OACLlE,MAAOX,KAAK8E,MAAMnE,MAClBoE,YAAa,iBACbC,SAAUhF,KAAK8E,MAAME,gB,GARhBC,IAAMC,YAezBkB,E,kDACF,WAAYtB,GAAQ,IAAD,8BACf,cAAMA,IACDM,YAAc,EAAKA,YAAYC,KAAjB,gBAFJ,E,wDAIPC,GACLA,EAAEC,eACDvF,KAAK8E,MAAMuB,mBAAmBrG,KAAK8E,MAAMnE,S,+BAI7C,IAAMW,EAAOtB,KAAK8E,MAAMnE,MAClB2F,EAAatG,KAAK8E,MAAMwB,WAC9B,IAA+B,IAA5BtG,KAAK8E,MAAMyB,aACV,OACI,yBAAK3B,UAAU,OAAOe,QAAS3F,KAAKoF,aAChC,0BAAMR,UAAU,QAAQtD,EAAK5B,MAC7B,yBAAKkF,UAAU,QACf,yBAAKA,UAAU,YAAYqB,IAAK3E,EAAKV,eAAenB,IACtC,yBAAKmG,IAAKtE,EAAKV,eAAeb,OAAQ8F,IAAKvE,EAAK5B,UAStE,IAFA,IAAI8G,EAAa,IAAIrC,IACfsC,EAAaC,MAAMC,KAAKrF,EAAK1B,SAASY,QAF3C,aAGG,IAAMoG,EAAG,KACTJ,EAAW/B,IAAImC,EAAKN,EAAW9B,KAAK,SAAAiB,GAAc,IAAD,EACrBA,EAAUoB,UAAUvF,EAAMsF,GAClD,MAAO,CACHE,IAAKrB,EACL1C,MAJyC,EACtCA,MAIHG,OALyC,EAC/BA,WAMfxB,QAAQ,SAAAoB,GAAM,OAAIA,EAAOC,WARhC,MAAiB0D,EAAjB,eAA6B,IAU7B,IAAMM,EAAe,kBAAM,GAC3B,OACI,yBAAKnC,UAAU,kBAAkBe,QAAS3F,KAAKoF,aAC3C,0BAAMR,UAAU,QAAQtD,EAAK5B,KAA7B,IAAmC,0BAAMkF,UAAU,WAAhB,IAA4BtD,EAAKzB,MAAjC,MACnC,yBAAK+E,UAAU,QAEX6B,EAAWjC,KAAK,SAACoC,GACb,IAAMI,EAAU1F,EAAK1B,SAASiB,IAAI+F,GAC5BlH,EAAOsH,EAAQtH,MAAQ4B,EAAK5B,KAClC,OACI,yBAAKkF,UAAU,YAAYqB,IAAKe,EAAQvH,IACpC,yBAAKmF,UAAU,aACX,yBAAKgB,IAAKoB,EAAQjH,OAAQ8F,IAAKnG,IAE/BsH,EAAQtH,MACR,0BAAMkF,UAAU,QAAQoC,EAAQtH,OAGpC,yBAAKkF,UAAU,cAEX4B,EAAW3F,IAAI+F,GAAKtE,OAAS,EAC3BkE,EAAW3F,IAAI+F,GAAKpC,KAAK,SAAAyC,GACvB,OACIA,EAAElE,OACF,kBAAC,EAAD,CACIpC,MAAOsG,EAAEH,IACTpB,UAAU,EACVO,IAAK,KAAKgB,EAAEH,IAAIrH,GAChB+F,eAAgBuB,OAG1B,8D,GArEX9B,IAAMC,WAmF/BgC,E,uKACQ,IAAD,OAEL,IADalH,KAAK8E,MAAMqC,SAEpB,MAAO,GAEX,IACM9F,EADQrB,KAAK8E,MAAM3D,MACL+E,eAAelG,KAAK8E,MAAMqC,UACxCZ,EAAelF,EAAMiB,OAAS,EACpC,OAAoB,IAAjBjB,EAAMiB,OAED,yBAAKsC,UAAU,YACX,0BAAMA,UAAU,SAAhB,sCAKR,yBAAKA,UAAU,YAEXvD,EAAMmD,KAAK,SAAAlD,GACP,OACI,yBAAKsD,UAAU,YAAYqB,IAAK3E,EAAK7B,IACjC,kBAAC,EAAD,CACIkB,MAAOW,EACPiF,aAAcA,EACdF,mBAAoB,EAAKvB,MAAMuB,mBAC/BC,WAAY,EAAKxB,MAAMwB,sB,GA1B1BrB,IAAMC,WC5F7BkC,G,YAAW,CACb/H,EAASgI,KAAMhI,EAASiI,QAASjI,EAASkI,QAASlI,EAASmI,SAC5DnI,EAASoI,MAAOpI,EAASqI,MAAOrI,EAASsI,YAAatI,EAASuI,OAE7DC,EHsQN,SAAoBC,GAChB,IAD6B,EApBX7D,EAqBdV,EAAU,GADe,cAEJuE,GAFI,IAE7B,IAAI,EAAJ,qBAAsC,CAAC,IAA7BC,EAA4B,QAClCxE,EAAQhB,KAtBL,IAAIC,GADOyB,EAuBY8D,GArBrBzD,cACLL,EAAKvE,KACLuE,EAAKlD,OAAOyD,KAAK,SAACrB,GAAD,OAAWA,EAAM5B,iBAClC0C,EAAKxB,OAAO+B,KAAK,SAAC3E,GAAD,OAAWA,EAAM0B,iBAClC0C,EAAK+D,aAcoB,8BAK7B,OAAO,IAAI1E,EAAOC,GG3QP0E,CAAWH,GACpBI,EH2PN,SAAqBC,EAAUf,GAC3B,IADoC,EAChCjG,EAAQ,GADwB,cAEfgH,GAFe,IAEpC,IAAI,EAAJ,qBAA8B,CAAC,IAArBC,EAAoB,QACvBhB,EAAS/E,SAAS+F,EAAO,cACxBjH,EAAMoB,KAAKyB,EAAaoE,KAJI,8BAQpC,OADAjH,EAAMkH,MAAM,SAACC,EAAGC,GAAQ,OAAOD,EAAE5I,KAAO6I,EAAE7I,QACnC,IAAIwB,EAAQC,GGnQPqH,CAAYL,EAAUf,GAqFvBqB,E,kDAlFX,WAAY3D,GAAQ,IAAD,8BACf,cAAMA,IACD4D,MAAQ,CACXvB,SAAU,GACVpB,cAAe,GACf4C,cAAe,IAEjB,EAAKC,iBAAmB,EAAKA,iBAAiBvD,KAAtB,gBACxB,EAAKwD,sBAAwB,EAAKA,sBAAsBxD,KAA3B,gBAC7B,EAAKyD,wBAA0B,EAAKA,wBAAwBzD,KAA7B,gBAC/B,EAAK0D,oBAAsB,EAAKA,oBAAoB1D,KAAzB,gBAVZ,E,wDAYP1E,GACRX,KAAKgJ,SAAS,CAAC7B,SAAUxG,M,uCAEZA,GACbX,KAAKgJ,SAAS,CAACjD,cAAepF,M,uCAEjBA,GACbX,KAAKgJ,SAAS,CAACL,cAAehI,M,4CAEZ2E,GACdA,EAAEC,eACFvF,KAAKiJ,iBAAiB3D,EAAEC,cAAc5E,S,uCAG7B2E,GACTA,EAAEC,eACFvF,KAAKkJ,YAAY5D,EAAEC,cAAc5E,S,0CAGrBW,GAChBtB,KAAKkJ,YAAY5H,EAAK5B,Q,8CAEF+F,GACpB,IAAI0D,EAAOnJ,KAAK0I,MAAMC,cAAcS,QAC9BC,EAAMF,EAAK1H,QAAQgE,IACb,IAAT4D,GACCF,EAAKG,OAAOD,EAAI,GAChBrJ,KAAKuJ,iBAAiBJ,KAGtBA,EAAK5G,KAAKkD,GACVzF,KAAKgJ,SAAS,CACVL,cAAeQ,EAAKd,MAAK,SAACC,EAAEC,GAAH,OAASD,EAAE5I,KAAO6I,EAAE7I,QAC7CqG,cAAe,Q,+BAKvB,OACE,yBAAKnB,UAAU,QACb,yBAAKA,UAAU,eACX,kBAAC,EAAD,CACIjE,MAAOX,KAAK0I,MAAM3C,cAClBf,SAAUhF,KAAK6I,yBAGvB,kBAAC,EAAD,CACItF,QAASsE,EACTnC,SAAU1F,KAAK0I,MAAMC,cACrB5C,cAAe/F,KAAK0I,MAAM3C,cAC1BP,eAAgBxF,KAAK8I,0BAEzB,yBAAKlE,UAAU,eACX,kBAAC,EAAD,CACIjE,MAAOX,KAAK0I,MAAMvB,SAClBnC,SAAUhF,KAAK4I,oBAGvB,kBAAC,EAAD,CACIzH,MAAO+G,EACPf,SAAUnH,KAAK0I,MAAMvB,SACrBd,mBAAoBrG,KAAK+I,oBACzBzC,WAAYtG,KAAK0I,MAAMC,qB,GA3EhB1D,IAAMC,WCX7BsE,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.2ac2a7e3.chunk.js","sourcesContent":["let Category = {};\n(function (Category) {\n    Category[\"Accessories\"] = \"Accessories\";\n    Category[\"Art\"] = \"Art\";\n    Category[\"Bags\"] = \"Bags\";\n    Category[\"Bottoms\"] = \"Bottoms\";\n    Category[\"DressUp\"] = \"Dress-Up\";\n    Category[\"Fencing\"] = \"Fencing\";\n    Category[\"Floors\"] = \"Floors\";\n    Category[\"Fossils\"] = \"Fossils\";\n    Category[\"Headwear\"] = \"Headwear\";\n    Category[\"Housewares\"] = \"Housewares\";\n    Category[\"Miscellaneous\"] = \"Miscellaneous\";\n    Category[\"Music\"] = \"Music\";\n    Category[\"Other\"] = \"Other\";\n    Category[\"Photos\"] = \"Photos\";\n    Category[\"Posters\"] = \"Posters\";\n    Category[\"Rugs\"] = \"Rugs\";\n    Category[\"Shoes\"] = \"Shoes\";\n    Category[\"Socks\"] = \"Socks\";\n    Category[\"Tools\"] = \"Tools\";\n    Category[\"Tops\"] = \"Tops\";\n    Category[\"Umbrellas\"] = \"Umbrellas\";\n    Category[\"WallMounted\"] = \"Wall-mounted\";\n    Category[\"Wallpapers\"] = \"Wallpapers\";\n})(Category);\n\nlet Style = {};\n(function (Style) {\n    Style[\"Active\"] = \"Active\";\n    Style[\"Cool\"] = \"Cool\";\n    Style[\"Cute\"] = \"Cute\";\n    Style[\"Elegant\"] = \"Elegant\";\n    Style[\"Gorgeous\"] = \"Gorgeous\";\n    Style[\"Simple\"] = \"Simple\";\n})(Style);\n\nlet Color = {};\n(function (Color) {\n    Color[\"Beige\"] = \"Beige\";\n    Color[\"Black\"] = \"Black\";\n    Color[\"Blue\"] = \"Blue\";\n    Color[\"Brown\"] = \"Brown\";\n    Color[\"Colorful\"] = \"Colorful\";\n    Color[\"Gray\"] = \"Gray\";\n    Color[\"Green\"] = \"Green\";\n    Color[\"LightBlue\"] = \"Light blue\";\n    Color[\"Orange\"] = \"Orange\";\n    Color[\"Pink\"] = \"Pink\";\n    Color[\"Purple\"] = \"Purple\";\n    Color[\"Red\"] = \"Red\";\n    Color[\"White\"] = \"White\";\n    Color[\"Yellow\"] = \"Yellow\";\n})(Color);\n\nclass GiftItem {\n    constructor(id, name, sellPrice, variants, style, category, imgUrl){\n        this._id = id;\n        this._name = name;\n        this._sellPrice = sellPrice;\n        this._variants = variants;\n        this._style = style;\n        this._category = category;\n        const first = variants.keys().next();\n        this._defaultVariantId = first.value;\n    }\n    get id() { return this._id; }\n    get name() { return this._name; }\n    get sell() { return this._sellPrice; }\n    get variants() { return this._variants; }\n    get style() { return this._style; }\n    get category() { return this._category; }\n    get imgUrl() {\n        return this.defaultVariant.imgUrl;\n    }\n    get defaultVariant(){\n        return this._variants.get(this._defaultVariantId);\n    }\n}\n\nclass GiftItemVariant {\n    constructor(id, name, colors, imgUrl) {\n        this._id = id;\n        this._name = name;\n        this._colors = colors;\n        this._imgUrl = imgUrl;\n    }\n    get id() { return this._id; }\n    get name() { return this._name; }\n    get colors() { return this._colors; }\n    get imgUrl() { return this._imgUrl; }\n}\n\nclass Catalog {\n    constructor(items){\n        this._items = items;\n    }\n    get length(){\n        return this._items.length;\n    }\n    findByName(name) {\n        let found = null;\n        for(const item of this._items){\n            const isMatch = item.name.toLowerCase() == name.toLowerCase();\n            if (isMatch){\n                found = item;\n                break;\n            }\n\n        }\n        return found;\n    }\n    findByNameLike(name) {\n        const searchName = name.toLowerCase();\n        let found = null;\n        /* Match any substring */\n        if(searchName.indexOf(' ') !== -1 || searchName.indexOf('-') !== -1){\n            found = this._items.filter(item => {\n                return item.name.toLowerCase().indexOf(searchName) !== -1;\n            });\n            return found;\n        }\n        /* Match substring in word parts only */\n        found = this._items.filter(item => {\n            let parts = item.name.toLowerCase().split(/[\\s-]+/);\n            const isMatch = parts.reduce( (tested, part) => {\n                return tested || part.indexOf(searchName) === 0;\n            }, false);\n            return isMatch;\n        });\n        return found;\n    }\n    findByStyle(villager, limitCats, limit){\n        if(limit == undefined){\n            limit = 200;\n        }\n        let results = {};\n        for(const item of this._items){\n            if(villager.checkGiftStyle(item)){\n                if(!limitCats || limitCats.includes(item.category)){\n                    results[item.category] = results[item.category] || [];\n                    if(results[item.category].length < limit){\n                        results[item.category].push(item);\n                    }\n                }\n            }\n        }\n        return results;\n    }\n}\n\nclass Villager{\n    constructor(id, name, colors, styles, iconUrl) {\n        this._id = id;\n        this._name = name;\n        this._colors = colors;\n        this._styles = styles;\n        this._iconUrl = iconUrl\n    }\n    get id() { return this._id; }\n    get name() { return this._name; }\n    get colorPrefs() { return this._colors; }\n    get stylePrefs() { return this._styles; }\n    get iconUrl() { return this._iconUrl; }\n\n    checkGift(item, variantId){\n        const result = this.checkGiftStyle(item);\n        return (result.liked && result) || this.checkGiftColors(item, variantId);\n\n    }\n    checkGiftStyle(item){\n        if(this.stylePrefs.includes(item.style)){\n            return { liked: true, reason: item.style };\n        }\n        return { liked: false };\n    }\n    checkGiftColors(item, variantId){\n        const likesColor = (color) => this.colorPrefs.includes(color);\n        for(const c of item.variants.get(variantId).colors){\n            if(likesColor(c)){\n                return { liked: true, reason: c };\n            }\n        }\n        return { liked: false };\n    }\n}\n\nclass Roster {\n    constructor(members){\n        this._members = members;\n    }\n    get length(){\n        return this._members.length;\n    }\n    findByName(name){\n        let found = null;\n        for(const villager of this._members){\n            const isMatch = villager.name.toLowerCase() == name.toLowerCase();\n            if (isMatch){\n                console.log(villager.name + \"==\" + name + \" : \" + isMatch);\n                found = villager;\n                break;\n            }\n        }\n        return found;\n    }\n    findByNameLike(name){\n        return this._members.filter( villager => {\n            return villager.name.toLowerCase().startsWith(name.toLowerCase());\n        });\n    }\n    findByStyle(item, limit){\n        if(limit == undefined){\n            limit = 200;\n        }\n        let results = [];\n        for(const villager of this._members){\n            if(villager.checkGiftStyle(item)){\n                results.push(villager);\n            }\n            if(results.length >= limit){\n                break;\n            }\n        }\n        return results;\n    }\n\n}\n\nconst getImageUrl = (rawVariant) => {\n    /* TODO: currently limited to clothes and bags */\n    return rawVariant.storageImage;\n};\n\nconst makeGiftItem = (json) => {\n    let vMap = new Map();\n    const rawFirstVar = json.variants[0];\n    for(const rawVariant of json.variants){\n        const v = new GiftItemVariant(\n            rawVariant.uniqueEntryId,\n            rawVariant.variation,\n            rawVariant.colors.map(c => c.toLowerCase()),\n            getImageUrl(rawVariant)\n        );\n        vMap.set(rawVariant.uniqueEntryId, v);\n    }\n    return new GiftItem(\n        '_' + rawFirstVar.uniqueEntryId,\n        json.name.toLowerCase(),\n        rawFirstVar.sellPrice,\n        vMap,\n        (json.style && json.style.toLowerCase()) || null,\n        json.sourceSheet\n    );\n}\n\nfunction makeVillager(json){\n    return new Villager(\n        json.uniqueEntryId,\n        json.name,\n        json.colors.map( (color) => color.toLowerCase() ),\n        json.styles.map( (style) => style.toLowerCase() ),\n        json.iconImage\n    );\n}\n\nfunction makeCatalog(rawItems, inclCats){\n    let items = [];\n    for(const rawItem of rawItems){\n        if(inclCats.includes(rawItem['sourceSheet'])) {\n            items.push(makeGiftItem(rawItem));\n        }\n    }\n    items.sort( (a, b) => { return a.name > b.name } )\n    return new Catalog(items);\n}\nfunction makeRoster(rawVillagers){\n    let members = [];\n    for(const rawVillager of rawVillagers){\n        members.push(makeVillager(rawVillager));\n    }\n    return new Roster(members);\n}\n\nexport {\n    Catalog, Category, Color, Style, GiftItem, GiftItemVariant,\n    Villager, Roster, makeCatalog, makeRoster\n};","import React from 'react';\nimport './recipients.css'\n\nclass RecipientLookup extends React.Component {\n    render() {\n        console.log(\"Rendering lookup component...\");\n        return (\n            <div className=\"mori-search-input\">\n                <input\n                    type=\"text\"\n                    value={this.props.value}\n                    placeholder={\"Who is this gift for?\"}\n                    onChange={this.props.onChange}\n                />\n            </div>\n        );\n    }\n}\n\nclass Recipient extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleClick = this.handleClick.bind(this);\n    }\n    handleClick(e) {\n        if(e.currentTarget){\n            this.props.toggleCallback(this.props.value);\n        }\n    }\n    render() {\n        const recipient = this.props.value;\n        return (\n            <div className={`vlgr${this.props.selected ? ' selected': ''}`} onClick={this.handleClick}>\n              <img src={recipient.iconUrl} alt={recipient.name}/>\n              <span className=\"name\">{recipient.name}</span>\n            </div>\n        );\n    }\n}\n\nclass RecipientList extends React.Component {\n    render() {\n        console.log(\"Rendering results...\");\n        const name = this.props.recipientName;\n        const selectedList = this.props.selected;\n        if(!name) {\n            return (\n                <div className=\"vResults\">\n                { \n                    selectedList.map( v => {\n                        return (\n                            <Recipient\n                                value={v}\n                                selected={true}\n                                key={v.id}\n                                toggleCallback={this.props.toggleCallback} />\n                        );\n                    })\n                }\n                </div>\n            );\n        }\n        const found = this.props.members.findByNameLike(this.props.recipientName);\n        if(!found){\n            return (<span>No villager with that name found.</span>);\n        }\n\n        return (\n            <div className=\"vResults\">\n            { \n                selectedList.map( v => {\n                    return (\n                        <Recipient\n                            value={v}\n                            selected={true}\n                            key={v.id}\n                            toggleCallback={this.props.toggleCallback} />\n                    );\n                })\n            }{\n                found.filter( v => {\n                    return !selectedList.includes(v);\n                }).map( v => {\n                    return (\n                        <Recipient\n                            value={v}\n                            selected={false}\n                            key={v.id}\n                            toggleCallback={this.props.toggleCallback} />\n                    );\n                })\n            }\n            </div>\n        );\n    }\n}\n\nexport { Recipient, RecipientList, RecipientLookup };","import React from 'react';\nimport {Recipient} from 'components/recipients.js'\nimport './gifts.css'\n\nclass GiftLookup extends React.Component {\n    render() {\n        return (\n            <div className=\"mori-search-input\">\n                <input\n                    type=\"text\"\n                    value={this.props.value}\n                    placeholder={\"Gift to check?\"}\n                    onChange={this.props.onChange}\n                />\n            </div>\n        );\n    }\n}\n\nclass GiftSearchResult extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleClick = this.handleClick.bind(this);\n    }\n    handleClick(e) {\n        if(e.currentTarget){\n            this.props.itemSelectCallback(this.props.value);\n        }\n    }\n    render() {\n        const item = this.props.value;\n        const recipients = this.props.recipients;\n        if(this.props.showVariants === false){\n            return (\n                <div className=\"gift\" onClick={this.handleClick}>\n                    <span className=\"name\">{item.name}</span>\n                    <div className=\"alts\">\n                    <div className=\"alt-color\" key={item.defaultVariant.id}>\n                                  <img src={item.defaultVariant.imgUrl} alt={item.name} />\n                              </div>\n                    </div>\n                </div>\n            );\n        }\n        else {\n            let judgements = new Map();\n            const variantIds = Array.from(item.variants.keys());\n            for(const vId of variantIds){\n                judgements.set(vId, recipients.map( recipient => {\n                    const {liked, reason} = recipient.checkGift(item, vId);\n                    return {\n                        who: recipient,\n                        liked: liked,\n                        reason: reason\n                    };\n                }).filter( result => result.liked ));\n            }\n            const nullCallback = () => false;\n            return (\n                <div className=\"gift gift-group\" onClick={this.handleClick}>\n                    <span className=\"name\">{item.name} <span className=\"quality\">({item.style})</span></span>\n                    <div className=\"alts\">\n                    {\n                        variantIds.map( (vId) => {\n                            const variant = item.variants.get(vId);\n                            const name = variant.name || item.name;\n                            return(\n                                <div className=\"alt-color\" key={variant.id}>\n                                    <div className=\"alt-entry\">\n                                        <img src={variant.imgUrl} alt={name} />\n                                    {\n                                        variant.name &&\n                                        <span className=\"name\">{variant.name}</span>\n                                    }\n                                    </div>\n                                    <div className=\"judgements\">\n                                    {\n                                        judgements.get(vId).length > 0\n                                        ? judgements.get(vId).map( j => {\n                                            return (\n                                                j.liked && \n                                                <Recipient\n                                                    value={j.who}\n                                                    selected={false}\n                                                    key={'j_'+j.who.id}\n                                                    toggleCallback={nullCallback} />\n                                            )\n                                        })\n                                        : <div>No one liked this.</div>\n                                    }\n                                    </div>\n                                </div>\n                            )\n                        })\n                    }\n                    </div>\n                </div>\n            );\n        }\n    }\n}\n\nclass GiftSearchList extends React.Component {\n    render() {\n        const name = this.props.giftName;\n        if(!name) {\n            return '';//(<div className=\"gResults\"></div>);\n        }\n        const items = this.props.items;\n        const found = items.findByNameLike(this.props.giftName);\n        const showVariants = found.length < 2;\n        if(found.length === 0){\n            return (\n                <div className=\"gResults\">\n                    <span className=\"count\">No clothing or bag matches found.</span>\n                </div>\n            );\n        }\n        return (\n            <div className=\"gResults\">\n            {\n                found.map( item => {\n                    return (\n                        <div className=\"mori-gift\" key={item.id}>\n                            <GiftSearchResult\n                                value={item}\n                                showVariants={showVariants}\n                                itemSelectCallback={this.props.itemSelectCallback}\n                                recipients={this.props.recipients}\n                            />\n                        </div>\n                    );\n                })\n            }\n            </div>\n        );\n    }\n}\n\nexport {GiftLookup, GiftSearchList};","import React from 'react';\nimport rawVillagers from './ds/villagers.json'\nimport rawItems from './ds/items.json'\nimport { Category, makeCatalog, makeRoster } from 'modules/entities.js'\nimport { RecipientList, RecipientLookup } from 'components/recipients.js'\nimport { GiftLookup, GiftSearchList } from 'components/gifts.js'\nimport './App.css';\nimport './normalize.css'\n\n\nconst inclCats = [\n    Category.Tops, Category.Bottoms, Category.DressUp, Category.Headwear,\n    Category.Socks, Category.Shoes, Category.Accessories, Category.Bags\n];\nconst roster = makeRoster(rawVillagers);\nconst catalog = makeCatalog(rawItems, inclCats);\n\nclass Giftable extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n          giftName: '',\n          recipientName: '',\n          recipientList: []\n        };\n        this.onChangeGiftName = this.onChangeGiftName.bind(this);\n        this.onChangeRecipientName = this.onChangeRecipientName.bind(this);\n        this.toggleRecipientCallback = this.toggleRecipientCallback.bind(this);\n        this.onClickSearchResult = this.onClickSearchResult.bind(this);\n    }\n    setGiftName(value){\n        this.setState({giftName: value});\n    }\n    setRecipientName(value){\n        this.setState({recipientName: value});\n    }\n    setRecipientList(value){\n        this.setState({recipientList: value});\n    }\n    onChangeRecipientName(e) {\n        if (e.currentTarget) {\n            this.setRecipientName(e.currentTarget.value);\n        }\n    }\n    onChangeGiftName(e) {\n        if (e.currentTarget) {\n            this.setGiftName(e.currentTarget.value);\n        }\n    }\n    onClickSearchResult(item){\n        this.setGiftName(item.name);\n    }\n    toggleRecipientCallback(recipient){\n        let list = this.state.recipientList.slice();\n        const pos = list.indexOf(recipient);\n        if(pos !== -1){\n            list.splice(pos,1);\n            this.setRecipientList(list);\n        }\n        else{\n            list.push(recipient);\n            this.setState({\n                recipientList: list.sort((a,b) => a.name > b.name),\n                recipientName: ''\n            });\n        }\n    }\n    render() {\n        return (\n          <div className=\"mori\">\n            <div className=\"mori-search\">\n                <RecipientLookup \n                    value={this.state.recipientName}\n                    onChange={this.onChangeRecipientName}\n                />\n            </div>\n            <RecipientList\n                members={roster}\n                selected={this.state.recipientList}\n                recipientName={this.state.recipientName}\n                toggleCallback={this.toggleRecipientCallback}\n            />\n            <div className=\"mori-search\">\n                <GiftLookup\n                    value={this.state.giftName}\n                    onChange={this.onChangeGiftName}\n                />\n            </div>\n            <GiftSearchList\n                items={catalog}\n                giftName={this.state.giftName}\n                itemSelectCallback={this.onClickSearchResult}\n                recipients={this.state.recipientList}\n            />\n\n          </div>\n        );\n    }\n}\n\nexport default Giftable;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Giftable from './App';\n//import * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Giftable />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n"],"sourceRoot":""}